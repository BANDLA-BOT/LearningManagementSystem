{"version":3,"sources":["reviewController.js"],"names":["courseModel","require","deleteReview","req","res","params","courseId","reviewId","findById","course","reviews","reviewDelete","map","item","_id","toString","deleteOne","save","json","message","module","exports"],"mappings":";;AAAA,IAAMA,WAAW,GAAGC,OAAO,CAAC,oCAAD,CAA3B;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAOC,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAEgBD,GAAG,CAACE,MAFpB,EAEPC,QAFO,eAEPA,QAFO,EAEGC,QAFH,eAEGA,QAFH;AAAA;AAAA,0CAGMP,WAAW,CAACQ,QAAZ,CAAqBF,QAArB,CAHN;;AAAA;AAGTG,UAAAA,MAHS;AAITC,UAAAA,OAJS,GAICD,MAAM,CAACC,OAJR;AAKTC,UAAAA,YALS,GAKMD,OAAO,CAACE,GAAR,CAAY,iBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA,0BAC3BA,IAAI,CAACC,GAAL,CAASC,QAAT,OAAwBR,QADG;AAAA;AAAA;AAAA;;AAAA;AAAA,oDAEvBM,IAAI,CAACG,SAAL,CAAe;AAAET,sBAAAA,QAAQ,EAARA;AAAF,qBAAf,CAFuB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAZ,CALN;AAAA;AAAA,0CAUTE,MAAM,CAACQ,IAAP,EAVS;;AAAA;AAYfb,UAAAA,GAAG,CAACc,IAAJ,CAASR,OAAT;AAZe;AAAA;;AAAA;AAAA;AAAA;AAcfN,UAAAA,GAAG,CAACc,IAAJ,CAAS,aAAMC,OAAf;;AAde;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAArB;;AAkBAC,MAAM,CAACC,OAAP,GAAiB;AAAEnB,EAAAA,YAAY,EAAZA;AAAF,CAAjB","sourcesContent":["const courseModel = require('../../models/course/courseModel.js')\r\n\r\nconst deleteReview = async (req, res) => {\r\n    try {\r\n      const { courseId, reviewId } = req.params;\r\n      const course = await courseModel.findById(courseId);\r\n      const reviews = course.reviews;\r\n      const reviewDelete = reviews.map(async (item) => {\r\n        if (item._id.toString() === reviewId) {\r\n          await item.deleteOne({ reviewId });\r\n        }\r\n      });\r\n      await course.save();\r\n  \r\n      res.json(reviews);\r\n    } catch (error) {\r\n      res.json(error.message);\r\n    }\r\n  };\r\n\r\nmodule.exports = { deleteReview }"],"file":"reviewController.dev.js"}