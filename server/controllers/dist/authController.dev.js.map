{"version":3,"sources":["authController.js"],"names":["Student","require","jwt","config","register","req","res","body","email","firstname","lastname","password","findOne","user","json","message","newUser","save","status","Message","Error","login","existUser","token","sign","id","_id","process","env","JWT_SECRET_KEY","expiresIn","student","Token","module","exports"],"mappings":"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","sourcesContent":["const Student = require('../models/users/studentModel.js')\r\nconst jwt = require('jsonwebtoken')\r\nrequire('dotenv').config()\r\n\r\n//Register Controller\r\n\r\nconst register = async(req,res)=>{\r\n    try {\r\n         const { email, firstname, lastname,password} = req.body\r\n          const user = await Student.findOne({email:email})\r\n          if(user){\r\n             return res.json({message:\"User already exists with the email ID\"})\r\n          }\r\n        const newUser = new Student({\r\n            email,\r\n            firstname,\r\n            lastname,\r\n            password,\r\n        })\r\n        await newUser.save()\r\n        res.status(201).json({Message:\"Student registered successfully\", Student:newUser})\r\n     } catch (error) {\r\n        res.status(500).json({Message:\"Internal server error\", Error:error.message})\r\n     }\r\n}\r\n\r\n//Login Controller\r\n\r\nconst login = async(req,res)=>{\r\n    try {\r\n        const {email, password} = req.body;\r\n        const existUser = await Student.findOne({email:email, password:password})\r\n        if(!existUser){\r\n            return res.json({message:\"User doesn't exists\"})\r\n        }\r\n        const token = jwt.sign({id:existUser._id}, process.env.JWT_SECRET_KEY, {expiresIn:'15d'})\r\n        res.status(200).json({message:\"Student logged in successfully\", student:existUser, Token:token})\r\n    } catch (error) {\r\n        res.status(500).json({Message:\"Internal server error\", Error:error.message})\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    register,\r\n    login\r\n}"],"file":"authController.dev.js"}