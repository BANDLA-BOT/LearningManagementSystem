"use strict";var courseModel=require("../../models/course/courseModel"),studentModel=require("../../models/users/studentModel.js"),reviewController=function(r,s){var t,n,u,a,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.params.courseId,n=r.user,u=r.body.review,e.prev=3,e.next=6,regeneratorRuntime.awrap(courseModel.findById(t));case 6:return a=e.sent,e.next=9,regeneratorRuntime.awrap(studentModel.findById({_id:n.id}));case 9:if(o=e.sent,a&&o){e.next=12;break}return e.abrupt("return",s.status(404).json({message:"Course not found"}));case 12:return a.reviews.push({reviewBy:{userId:o._id,review:u}}),e.next=15,regeneratorRuntime.awrap(a.save());case 15:s.status(201).json({message:"Review added successfully"}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),s.status(500).json({message:e.t0.message});case 21:case"end":return e.stop()}},null,null,[[3,18]])};module.exports={reviewController:reviewController};
//# sourceMappingURL=reviewController.min.js.map
