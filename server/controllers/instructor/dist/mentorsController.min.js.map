{"version":3,"sources":["mentorsController.js"],"names":["Instructor","require","CourseModel","mentorsController","req","res","userId","mentors","courses","details","profile","regeneratorRuntime","async","_context","prev","next","user","id","awrap","sent","find","map","item","price","title","description","_id","toString","status","json","message","CoursesList","t0","Error","stop","module","exports"],"mappings":"aAAA,IAAMA,WAAaC,QAAQ,yCACrBC,YAAcD,QAAQ,sCAEtBE,kBAAoB,SAAMC,EAAIC,GAAV,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAF,EAAAC,KAAA,EAEZR,EAASF,EAAIY,KAAKC,GAFNJ,EAAAE,KAAA,EAAAJ,mBAAAO,MAAAlB,WAApBG,QAAoB,KAAA,EAAA,OAApBA,EAAoBU,EAAAM,KAAAN,EAAAE,KAAA,EAAAJ,mBAAAO,MAAAhB,YAAAkB,QAAA,KAAA,EAAAZ,EAAAK,EAAAM,KAAAV,EAAAD,EAAAa,IAAA,SAAAC,GAAA,OAAAA,EAAAC,MAAA,CAAAD,EAAAE,MAAAF,EAAAG,YAAAH,EAAAC,OAAAD,EAAAC,OAAA,EAECP,CAAAA,EAAKC,MAFNK,EAAAG,YAAA,aAAA,IAadf,EAAU,GAbIH,EAAAc,IAAA,SAAAC,GAGZf,EAHYmB,IAAAC,aAAArB,IAAAI,EAAAY,KAAAjB,EAAAuB,OAAA,KAAAC,KAAA,CAAAC,QAAA,aAAAvB,QAAAA,EAAAG,QAAAA,EAAAqB,YAAAtB,IAAAI,EAAAE,KAAA,GAAA,MAAA,KAAA,GAAAF,EAAAC,KAAA,GAAAD,EAAAmB,GAAAnB,EAAA,MAAA,GAKZJ,EAAAA,OALY,KAKFD,KAAQa,CAAAA,QAAI,wBAAQY,MAAApB,EAAAmB,GAAAF,UALlB,KAAA,GAAA,IAAA,MAAA,OAAAjB,EAAAqB,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,OAQbC,OAAAC,QAAAjC","file":"mentorsController.min.js","sourcesContent":["const Instructor = require('../../models/users/instructorModel.js')\r\nconst CourseModel = require('../../models/course/courseModel.js')\r\n\r\nconst mentorsController = async(req,res)=>{\r\n    try {\r\n        const userId = req.user.id\r\n        const mentors = await Instructor.find()\r\n        const courses = await CourseModel.find()\r\n        const details = courses.map((item)=>{\r\n            if(item.price){\r\n                return [item.title,item.description, item.price]\r\n            }\r\n            if(item.price <=0 ){\r\n                return [item.title,item.description, 'FREE']\r\n            }\r\n        })\r\n        let profile = {}\r\n        mentors.map((item)=>{\r\n            if(item._id.toString()=== userId){\r\n                profile = item\r\n            }\r\n        })\r\n        res.status(200).json({message:\"Data found\", mentors:mentors, profile:profile, CoursesList:details})\r\n    } catch (error) {\r\n        res.status(500).json({message:\"Internal server error\", Error:error.message})\r\n    }\r\n}\r\nmodule.exports = mentorsController"]}