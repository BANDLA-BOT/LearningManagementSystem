{"version":3,"sources":["mentorsController.js"],"names":["Instructor","require","CourseModel","mentorsController","req","res","userId","user","id","find","mentors","courses","details","map","item","price","title","description","profile","_id","toString","status","json","message","CoursesList","Error","module","exports"],"mappings":";;AAAA,IAAMA,UAAU,GAAGC,OAAO,CAAC,uCAAD,CAA1B;;AACA,IAAMC,WAAW,GAAGD,OAAO,CAAC,oCAAD,CAA3B;;AAEA,IAAME,iBAAiB,GAAG,SAApBA,iBAAoB,CAAMC,GAAN,EAAUC,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEZC,UAAAA,MAFY,GAEHF,GAAG,CAACG,IAAJ,CAASC,EAFN;AAAA;AAAA,0CAGIR,UAAU,CAACS,IAAX,EAHJ;;AAAA;AAGZC,UAAAA,OAHY;AAAA;AAAA,0CAIIR,WAAW,CAACO,IAAZ,EAJJ;;AAAA;AAIZE,UAAAA,OAJY;AAKZC,UAAAA,OALY,GAKFD,OAAO,CAACE,GAAR,CAAY,UAACC,IAAD,EAAQ;AAChC,gBAAGA,IAAI,CAACC,KAAR,EAAc;AACV,qBAAO,CAACD,IAAI,CAACE,KAAN,EAAYF,IAAI,CAACG,WAAjB,EAA8BH,IAAI,CAACC,KAAnC,CAAP;AACH;;AACD,gBAAGD,IAAI,CAACC,KAAL,IAAa,CAAhB,EAAmB;AACf,qBAAO,CAACD,IAAI,CAACE,KAAN,EAAYF,IAAI,CAACG,WAAjB,EAA8B,MAA9B,CAAP;AACH;AACJ,WAPe,CALE;AAadC,UAAAA,OAbc,GAaJ,EAbI;AAclBR,UAAAA,OAAO,CAACG,GAAR,CAAY,UAACC,IAAD,EAAQ;AAChB,gBAAGA,IAAI,CAACK,GAAL,CAASC,QAAT,OAAuBd,MAA1B,EAAiC;AAC7BY,cAAAA,OAAO,GAAGJ,IAAV;AACH;AACJ,WAJD;AAKAT,UAAAA,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,YAAAA,OAAO,EAAC,YAAT;AAAuBb,YAAAA,OAAO,EAACA,OAA/B;AAAwCQ,YAAAA,OAAO,EAACA,OAAhD;AAAyDM,YAAAA,WAAW,EAACZ;AAArE,WAArB;AAnBkB;AAAA;;AAAA;AAAA;AAAA;AAqBlBP,UAAAA,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,YAAAA,OAAO,EAAC,uBAAT;AAAkCE,YAAAA,KAAK,EAAC,YAAMF;AAA9C,WAArB;;AArBkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA1B;;AAwBAG,MAAM,CAACC,OAAP,GAAiBxB,iBAAjB","sourcesContent":["const Instructor = require('../../models/users/instructorModel.js')\r\nconst CourseModel = require('../../models/course/courseModel.js')\r\n\r\nconst mentorsController = async(req,res)=>{\r\n    try {\r\n        const userId = req.user.id\r\n        const mentors = await Instructor.find()\r\n        const courses = await CourseModel.find()\r\n        const details = courses.map((item)=>{\r\n            if(item.price){\r\n                return [item.title,item.description, item.price]\r\n            }\r\n            if(item.price <=0 ){\r\n                return [item.title,item.description, 'FREE']\r\n            }\r\n        })\r\n        let profile = {}\r\n        mentors.map((item)=>{\r\n            if(item._id.toString()=== userId){\r\n                profile = item\r\n            }\r\n        })\r\n        res.status(200).json({message:\"Data found\", mentors:mentors, profile:profile, CoursesList:details})\r\n    } catch (error) {\r\n        res.status(500).json({message:\"Internal server error\", Error:error.message})\r\n    }\r\n}\r\nmodule.exports = mentorsController"],"file":"mentorsController.dev.js"}