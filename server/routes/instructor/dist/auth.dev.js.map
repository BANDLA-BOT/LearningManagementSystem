{"version":3,"sources":["auth.js"],"names":["express","require","router","Router","path","multer","fs","registerController","loginController","instructorPasswordResetLink","instructorResetPassword","existsSync","mkdirSync","storage","diskStorage","destination","req","file","cb","filename","Date","now","originalname","upload","post","single","module","exports"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AACA,IAAMC,IAAI,GAAGH,OAAO,CAAC,MAAD,CAApB;;AACA,IAAMI,MAAM,GAAGJ,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAMK,EAAE,GAAGL,OAAO,CAAC,IAAD,CAAlB;;eACqGA,OAAO,CAAC,gDAAD,C;IAApGM,kB,YAAAA,kB;IAAoBC,e,YAAAA,e;IAAiBC,2B,YAAAA,2B;IAA6BC,uB,YAAAA,uB;;AAG1E,IAAG,CAACJ,EAAE,CAACK,UAAH,CAAc,UAAd,CAAJ,EAA8B;AAC1BL,EAAAA,EAAE,CAACM,SAAH,CAAa,UAAb;AACH;;AACD,IAAMC,OAAO,GAAGR,MAAM,CAACS,WAAP,CAAmB;AAC/BC,EAAAA,WAAW,EAAC,qBAACC,GAAD,EAAKC,IAAL,EAAUC,EAAV,EAAe;AACvBA,IAAAA,EAAE,CAAC,IAAD,EAAO,UAAP,CAAF;AACH,GAH8B;AAI/BC,EAAAA,QAAQ,EAAC,kBAACH,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAiB;AACtBA,IAAAA,EAAE,CAAC,IAAD,YAAUE,IAAI,CAACC,GAAL,EAAV,yBAAmCJ,IAAI,CAACK,YAAxC,EAAF;AACH;AAN8B,CAAnB,CAAhB;AAQA,IAAMC,MAAM,GAAGlB,MAAM,CAAC;AAClBQ,EAAAA,OAAO,EAACA;AADU,CAAD,CAArB;AAMAX,MAAM,CAACsB,IAAP,CAAY,WAAZ,EAAyBD,MAAM,CAACE,MAAP,CAAc,YAAd,CAAzB,EAAqDlB,kBAArD;AACAL,MAAM,CAACsB,IAAP,CAAY,QAAZ,EAAsBhB,eAAtB;AAEAN,MAAM,CAACsB,IAAP,CAAY,sBAAZ,EAAoCf,2BAApC;AACAP,MAAM,CAACsB,IAAP,CAAY,wBAAZ,EAAsCd,uBAAtC;AACAgB,MAAM,CAACC,OAAP,GAAgBzB,MAAhB","sourcesContent":["const express = require('express');\r\nconst router = express.Router()\r\nconst path = require('path')\r\nconst multer = require('multer')\r\nconst fs = require('fs')\r\nconst { registerController, loginController, instructorPasswordResetLink, instructorResetPassword} = require('../../controllers/instructor/authController.js')\r\n\r\n\r\nif(!fs.existsSync('/uploads')){\r\n    fs.mkdirSync('/uploads')\r\n}\r\nconst storage = multer.diskStorage({\r\n    destination:(req,file,cb)=>{\r\n        cb(null, '/uploads')\r\n    },\r\n    filename:(req, file, cb)=>{\r\n        cb(null, `${Date.now()}-Instructor-${file.originalname}`)\r\n    }\r\n})\r\nconst upload = multer({\r\n    storage:storage\r\n})\r\n\r\n\r\n\r\nrouter.post('/register', upload.single('profilePic'),registerController)\r\nrouter.post('/login', loginController)\r\n\r\nrouter.post('/reset-password-link', instructorPasswordResetLink)\r\nrouter.post('/reset-password/:token', instructorResetPassword)\r\nmodule.exports= router"],"file":"auth.dev.js"}