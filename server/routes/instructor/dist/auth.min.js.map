{"version":3,"sources":["auth.js"],"names":["express","require","router","Router","multer","registerController","loginController","instructorPasswordResetLink","instructorResetPassword","fs","mkdirSync","storage","diskStorage","destination","cb","upload","single","post","filename","file","module","exports"],"mappings":"aAAA,IAAMA,QAAUC,QAAQ,WAClBC,OAASF,QAAQG,SADjBH,KAAOC,QAAU,QAGjBG,OAASH,QAAQ,UAFjBC,GAAMD,QAAGD,eAIsFC,QAAQ,kDAArGI,4BAAAA,mBAAoBC,yBAAAA,gBAAiBC,qCAAAA,4BAA6BC,iCAAAA,wBAFpEJ,GAAAA,WAASH,aAMXQ,GAAGC,UAAU,YAEjB,IAAMC,QAAUP,OAAOQ,YAAY,CAC/BC,YAPiGZ,SAAAA,EAAAA,EAAQa,GAArGT,EAAAA,KAAAA,aAAqCE,SAAAA,SAAAA,EAAAA,EAAAA,GAA6BC,EAAAA,KAAAA,GAAAA,OAAAA,KAAAA,MAAAA,gBAAAA,OAAAA,EAAAA,kBAInEE,OAAUN,OAAA,CAChBO,QAAAA,UAEGE,OAAAA,KAAAA,YAAYE,OAAAC,OAAA,WAAeX,oBACvBS,OAAGG,KAAD,SAAOX,iBAEbY,OAAAA,KAAS,uBAAMC,6BACXL,OAAGG,KAAD,yBAAAT,yBACLY,OAAAC,QAAAnB","file":"auth.min.js","sourcesContent":["const express = require('express');\r\nconst router = express.Router()\r\nconst path = require('path')\r\nconst multer = require('multer')\r\nconst fs = require('fs')\r\nconst { registerController, loginController, instructorPasswordResetLink, instructorResetPassword} = require('../../controllers/instructor/authController.js')\r\n\r\n\r\nif(!fs.existsSync('/uploads')){\r\n    fs.mkdirSync('/uploads')\r\n}\r\nconst storage = multer.diskStorage({\r\n    destination:(req,file,cb)=>{\r\n        cb(null, '/uploads')\r\n    },\r\n    filename:(req, file, cb)=>{\r\n        cb(null, `${Date.now()}-Instructor-${file.originalname}`)\r\n    }\r\n})\r\nconst upload = multer({\r\n    storage:storage\r\n})\r\n\r\nrouter.post('/register', upload.single('profile'), registerController)\r\nrouter.post('/login', loginController)\r\n\r\nrouter.post('/reset-password-link', instructorPasswordResetLink)\r\nrouter.post('/reset-password/:token', instructorResetPassword)\r\nmodule.exports= router"]}