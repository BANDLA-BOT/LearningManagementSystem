{"version":3,"sources":["dashboard.js"],"names":["express","require","createCourse","uploadVideos","resourceController","cloudinary","v2","router","Router","memoryStorage","upload","multer","storage","config","api_key","process","env","API_KEY","diskStorage","cloud_name","req","file","cb","filename","concat","Date","now","originalname","uploadResources","resourceStorage","post","single","module"],"mappings":"aAAA,IAAMA,QAAUC,QAAQ,oBACiCA,QAAQ,0DAA1DC,sBAAAA,aAAcC,sBAAAA,aAAcC,4BAAAA,mBAD7BJ,OAAUC,QAAQ,UAGlBI,WAAaJ,QAAQ,cAAcK,GACnCC,OAHmDN,QAAQO,SAA9BJ,QAAAA,OAMZK,gBACjBC,OAASC,OAAO,CAACC,QAAQA,UAI/BP,WAAWQ,OAAO,CARZN,WAASP,YAUXc,QAAQC,QAAQC,IAAIC,QAPlBL,WAAUD,QAAOF,IAAAA,aAKvBJ,IAAAA,gBAAkBM,OAAAO,YAAA,CACdC,YAAW,SAAAC,EAAAC,EADGC,GAEdR,EAAO,KAACC,cAIZQ,SAAA,SAAAH,EAAAC,EAAAC,GAOMA,EAAG,KAAD,GAAAE,OAASC,KAAKC,MAAd,KAAAF,OAAuBH,EAAKM,kBAH3BC,gBAAHjB,OAAA,CAFqCC,QAAAiB,kBAKrCP,OAAGQ,KAAD,UAASL,cACdlB,OAAAuB,KAAA,0BAAApB,OAAAqB,OAAA,SAAA5B,cANwCI,OAA3CuB,KAAA,uBAAApB,OAAAqB,OAAA,QAAA3B,oBAQE4B,OAAMJ,QAAAA","file":"dashboard.min.js","sourcesContent":["const express = require('express');\r\nconst {createCourse, uploadVideos, resourceController} = require('../../controllers/instructor/CreateCourseController.js');\r\nconst multer = require('multer');\r\nconst cloudinary = require('cloudinary').v2\r\nconst router = express.Router()\r\n\r\n//Multer\r\nconst storage = multer.memoryStorage()\r\nconst upload = multer({storage:storage})\r\n\r\n//Cloudinary\r\n\r\ncloudinary.config({\r\n    cloud_name:'diqptwlqn',\r\n    api_key:process.env.API_KEY,\r\n    api_secret:process.env.API_SECRET\r\n})\r\n\r\n//Multer to upload resources\r\n\r\nconst resourceStorage = multer.diskStorage({\r\n    destination:(req,file,cb)=>{\r\n      cb(null, 'resources')\r\n    },\r\n    filename:(req,file,cb)=>{\r\n      cb(null,`${Date.now()}-${file.originalname}`)\r\n  }\r\n  })\r\n  const uploadResources = multer({\r\n    storage:resourceStorage\r\n  })\r\nrouter.post('/create', createCourse)\r\nrouter.post('/uploadvideos/:courseId',upload.single('video'), uploadVideos)\r\nrouter.post('/resources/:courseId', upload.single('file'),resourceController)\r\nmodule.exports = router"]}