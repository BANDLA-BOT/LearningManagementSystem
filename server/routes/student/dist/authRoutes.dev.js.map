{"version":3,"sources":["authRoutes.js"],"names":["express","require","multer","fs","register","login","resetPassword","resetPasswordLink","router","Router","existsSync","mkdirSync","storage","diskStorage","destination","req","file","cb","filename","Date","now","originalname","upload","post","single","module","exports"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAME,EAAE,GAAGF,OAAO,CAAC,IAAD,CAAlB;;eAC8DA,OAAO,CAAC,6CAAD,C;IAA7DG,Q,YAAAA,Q;IAAUC,K,YAAAA,K;IAAOC,a,YAAAA,a;IAAeC,iB,YAAAA,iB;;AACxC,IAAMC,MAAM,GAAGR,OAAO,CAACS,MAAR,EAAf;;AAEA,IAAG,CAACN,EAAE,CAACO,UAAH,CAAc,UAAd,CAAJ,EAA8B;AAC1BP,EAAAA,EAAE,CAACQ,SAAH,CAAa,UAAb;AACH;;AACD,IAAMC,OAAO,GAAGV,MAAM,CAACW,WAAP,CAAmB;AAC/BC,EAAAA,WAAW,EAAC,qBAACC,GAAD,EAAKC,IAAL,EAAUC,EAAV,EAAe;AACvBA,IAAAA,EAAE,CAAC,IAAD,EAAO,SAAP,CAAF;AACH,GAH8B;AAI/BC,EAAAA,QAAQ,EAAC,kBAACH,GAAD,EAAKC,IAAL,EAAUC,EAAV,EAAe;AACpBA,IAAAA,EAAE,CAAC,IAAD,YAASE,IAAI,CAACC,GAAL,EAAT,sBAA+BJ,IAAI,CAACK,YAApC,EAAF;AACH;AAN8B,CAAnB,CAAhB;AAQA,IAAMC,MAAM,GAAGpB,MAAM,CAAC;AAClBU,EAAAA,OAAO,EAACA;AADU,CAAD,CAArB;AAGAJ,MAAM,CAACe,IAAP,CAAY,WAAZ,EAAyBD,MAAM,CAACE,MAAP,CAAc,SAAd,CAAzB,EAAmDpB,QAAnD;AACAI,MAAM,CAACe,IAAP,CAAY,QAAZ,EAAsBlB,KAAtB;AACAG,MAAM,CAACe,IAAP,CAAY,yBAAZ,EAAsChB,iBAAtC;AACAC,MAAM,CAACe,IAAP,CAAY,wBAAZ,EAAsCjB,aAAtC;AACAmB,MAAM,CAACC,OAAP,GAAiBlB,MAAjB","sourcesContent":["const express = require('express');\r\nconst multer = require('multer')\r\nconst fs = require('fs')\r\nconst { register, login, resetPassword, resetPasswordLink } = require('../../controllers/student/authController.js')\r\nconst router = express.Router()\r\n\r\nif(!fs.existsSync('/uploads')){\r\n    fs.mkdirSync('/uploads')\r\n}\r\nconst storage = multer.diskStorage({\r\n    destination:(req,file,cb)=>{\r\n        cb(null, 'uploads')\r\n    },\r\n    filename:(req,file,cb)=>{\r\n        cb(null,`${Date.now()}-student-${file.originalname}`)\r\n    }\r\n})\r\nconst upload = multer({\r\n    storage:storage\r\n})\r\nrouter.post('/register', upload.single('profile'), register);\r\nrouter.post('/login', login);\r\nrouter.post('/request-reset-password',resetPasswordLink)\r\nrouter.post('/reset-password/:token', resetPassword)\r\nmodule.exports = router "],"file":"authRoutes.dev.js"}